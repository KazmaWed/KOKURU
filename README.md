----------本アプリについて----------

頂いた以下の要件を満たすアプリです。

・FirebaseのFirestoreを使った実装をする。
・Realmを使った実装をする。

今回は匿名のメッセージアプリ（既存のものではPeingやSarahahに近いもの）を想定して開発しました。

----------機能・各タブの簡単な解説----------

(1)Sendタブ
ここから匿名メッセージを送ります。
宛先IDと内容を入力してSendすると、メッセージがFirestoreに保存されます。

(2)Inboxタブ
Firestoreに保存された自分宛メッセージがテーブルビューに表示されます。
未読のものは太文字表記されます。新着メッセージはリアルタイムで自動ダウンロードされます。
タップで全文が表示され、Archiveなどの追加の操作ができます。

(3)Archiveタブ
Inboxタブとコントロールビューを共有していますが、こちらはArchiveしたメッセージのみが表示されます。一般的なメールアプリのArchiveと同等の機能です。

(4)Savedタブ
届いたメッセージをSave OfflineするとRealm Databaseに保存され、こちらのタブから見られます。
届いたメッセージが後から変更されるケースなどは想定していないこともあり、RealmとFirestoreで特に情報の同期などはとっていません。

(5)Settingタブ
自身のIDの入力欄です。ここで設定したIDに一致するメッセージだけがInboxやArchiveに表示されます。

----------コメント----------

実際の類似のサービスでは、送信側はアプリのダウンロードは必須ではなくブラウザなどからでも送信できるウェブサービスが一般的ですので、今回はそのネイティブアプリ版という設定です。

またIDについては本来、TwitterやFacebookのアカウントで認証する事が望ましいです。
認証機能を実装すれば、受信側がメッセージへの返信をSNSでシェアする際などにもスムーズです。

匿名メッセージのため送信者の情報はFirestoreに一切記録されない仕組みになっています。
開始側が匿名でチャットができる機能など実装しても面白いかもしれません。

また一般的なメッセージアプリとして求められる機能としては、テーブルビューのスワイプによるセルへの操作や、メッセージの検索機能などが挙がると思います。

また送信されたメッセージは送信時刻をFirestoreドキュメントのidとしてそのまま利用していますが、同時刻に複数メッセージが送信された場合は問題が発生すると思われますので、こちらも要改善です。

以上
